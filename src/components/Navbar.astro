---
---

<nav class="sticky top-0 z-30 bg-base-100/80 backdrop-blur-md transition-shadow duration-300" id="main-nav">
  <div class="navbar container mx-auto px-4 max-w-7xl">
    <div class="navbar-start gap-2">
      <label for="main-drawer" class="btn btn-ghost btn-circle lg:hidden">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h8m-8 6h16" />
        </svg>
      </label>
      <a href="/" class="text-xl gap-2">
        <span class="font-bold">Smakushi</span>
      </a>
    </div>
    <div class="navbar-center hidden lg:flex">
      <ul class="menu menu-horizontal px-1 gap-1">
        <li><a href="/">Główna</a></li>
        <li><a href="/kategorie">Kategorie</a></li>
        <li><a href="/przepisy">Wszystkie przepisy</a></li>
      </ul>
    </div>
    <div class="navbar-end gap-2">
      <button
        onclick="search_modal.showModal()"
        class="btn btn-ghost gap-2"
      >
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
        </svg>
        <span class="hidden md:inline">Wyszukaj</span>
        <kbd class="kbd kbd-sm hidden md:inline-flex" id="search-kbd">⌘K</kbd>
      </button>
    </div>
  </div>
</nav>

<script>
  const nav = document.getElementById('main-nav');
  let lastScroll = 0;

  window.addEventListener('scroll', () => {
    const currentScroll = window.scrollY;

    if (currentScroll > 10) {
      nav?.classList.add('shadow-lg');
    } else {
      nav?.classList.remove('shadow-lg');
    }

    lastScroll = currentScroll;
  });

  const kbdElement = document.getElementById('search-kbd');
  const isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;
  if (kbdElement) {
    kbdElement.textContent = isMac ? '⌘K' : 'Ctrl+K';
    if (isMac) {
      kbdElement.style.letterSpacing = '0.15em';
    }
  }
</script>
